import{r as e,j as s,L}from"./app-CJdbH9Yc.js";import{_ as D,D as y,g as B}from"./generateColumns-BSoRlP_b.js";import{u as E}from"./Banners-BMvt5X2D.js";import I from"./columnsConfig-PlpeKq9o.js";import{l as v,L as C}from"./lightImgDB-DLuKW-Q9.js";import"./index-G3Emy3bN.js";const U=({setDelete:f,setEdit:h})=>{const{setBanners:u,dtBanners:t}=E(),[a,P]=e.useState(1),[o,x]=e.useState(10),[g,p]=e.useState(!0),[S,d]=e.useState(-1),[w,b]=e.useState(),n=new URLSearchParams(window.location.search),i=n.get("cari")||"",r=n.get("sortby")||"",c=n.get("order")||"",m=D.debounce(l=>{l()},500),j=e.useCallback(async()=>{x(10),await u({page:a,limit:o,search:i,sortby:r,order:c}),p(!1)},[u,a,o,i,r,c]);return e.useEffect(()=>(m(j),()=>{m.cancel()}),[i,r,c,a,o]),e.useEffect(()=>{b(v({data:t==null?void 0:t.data,picture:"banner_img",title:{path:"position"},description:{path:""},width:3840,height:5760}))},[t==null?void 0:t.data]),s.jsxs("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:[s.jsx(C,{index:S,setIndex:d,slides:w}),g?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx(L,{})}):s.jsx(y,{data:t.data,columns:B(I({setIndexBox:d}),h,l=>f({id:l,isDelete:!1})),filters:["banner_img"]})]})};export{U as default};

import{e as b,f as h,g as d,h as n}from"./app-DGFkG_vZ.js";const l=b(h(u=>({dtSubCategories:{last_page:0,current_page:0,data:[]},setSubCategories:async({page:r=1,limit:t=10,search:e,sortby:a,order:s})=>{var o;try{const i=await d.getState().setToken(),g=await n({method:"get",url:"/subCategories",headers:{Authorization:`Bearer ${i}`},params:{limit:t,page:r,search:e,sortby:a,order:s}});return u(c=>({...c,dtSubCategories:g.data})),console.log({response:g}),{status:"berhasil",data:g.data}}catch(i){return{status:"error",error:(o=i.response)==null?void 0:o.data}}},setShowSubCategories:async r=>{var t;try{const e=await d.getState().setToken(),a=await n({method:"get",url:`/subCategories/${r}`,headers:{Authorization:`Bearer ${e}`}});return u(s=>({...s,dtSubCategories:a.data.data})),{status:"berhasil",data:a.data}}catch(e){return{status:"error",error:(t=e.response)==null?void 0:t.data}}},addData:async r=>{try{const t=await d.getState().setToken(),e=await n({method:"post",url:"/subCategories",headers:{Authorization:`Bearer ${t}`},data:r});return u(a=>({dtSubCategories:{last_page:a.dtSubCategories.last_page,current_page:a.dtSubCategories.current_page,data:[e.data.data,...a.dtSubCategories.data]}})),{status:"berhasil tambah",data:e.data}}catch(t){return{status:"error",data:t.response.data}}},removeData:async r=>{try{const t=await d.getState().setToken(),e=await n({method:"delete",url:`/subCategories/${r}`,headers:{Authorization:`Bearer ${t}`}});return u(a=>({dtSubCategories:{last_page:a.dtSubCategories.last_page,current_page:a.dtSubCategories.current_page,data:a.dtSubCategories.data.filter(s=>s.id!==r)}})),{status:"berhasil hapus",data:e.data}}catch(t){return{status:"error",data:t.response.data}}},updateData:async(r,t)=>{try{const e=await d.getState().setToken(),a=await n({method:"PUT",url:`/subCategories/${r}`,headers:{Authorization:`Bearer ${e}`},data:t});return u(s=>({dtSubCategories:{last_page:s.dtSubCategories.last_page,current_page:s.dtSubCategories.current_page,data:s.dtSubCategories.data.map(o=>o.id===r?{...o,...a.data.data}:o)}})),{status:"berhasil update",data:a.data}}catch(e){return{status:"error",data:e.response.data}}}})));export{l as u};

import{e as g,f as l,g as n,h as u}from"./app-DGFkG_vZ.js";const _=g(l(d=>({dtOrders:{last_page:0,current_page:0,data:[]},setOrders:async({page:e=1,limit:t=10,search:a,sortby:r,order:s,status:o})=>{var i;try{const c=await n.getState().setToken(),h=await u({method:"get",url:"/orders",headers:{Authorization:`Bearer ${c}`},params:{limit:t,page:e,search:a,sortby:r,order:s,status:o}});return d(p=>({...p,dtOrders:h.data})),console.log({response:h}),{status:"berhasil",data:h.data}}catch(c){return{status:"error",error:(i=c.response)==null?void 0:i.data}}},setShowOrders:async e=>{var t;try{const a=await n.getState().setToken(),r=await u({method:"get",url:`/orders/${e}`,headers:{Authorization:`Bearer ${a}`}});return d(s=>({...s,dtOrders:r.data.data})),{status:"berhasil",data:r.data}}catch(a){return{status:"error",error:(t=a.response)==null?void 0:t.data}}},addData:async e=>{try{const t=await n.getState().setToken(),a=await u({method:"post",url:"/orders",headers:{Authorization:`Bearer ${t}`},data:e});return d(r=>({dtOrders:{last_page:r.dtOrders.last_page,current_page:r.dtOrders.current_page,data:[a.data.data,...r.dtOrders.data]}})),{status:a.data.type,data:a.data}}catch(t){return{status:"error",data:t.response.data}}},removeData:async e=>{try{const t=await n.getState().setToken(),a=await u({method:"delete",url:`/orders/${e}`,headers:{Authorization:`Bearer ${t}`}});return d(r=>({dtOrders:{last_page:r.dtOrders.last_page,current_page:r.dtOrders.current_page,data:r.dtOrders.data.filter(s=>s.id!==e)}})),{status:"berhasil hapus",data:a.data}}catch(t){return{status:"error",data:t.response.data}}},updateData:async(e,t)=>{try{const a=await n.getState().setToken(),r=await u({method:"PUT",url:`/orders/${e}`,headers:{Authorization:`Bearer ${a}`},data:t});return d(s=>({dtOrders:{last_page:s.dtOrders.last_page,current_page:s.dtOrders.current_page,data:s.dtOrders.data.map(o=>o.id===e?{...o,...r.data.data}:o)}})),{status:"berhasil update",data:r.data}}catch(a){return{status:"error",data:a.response.data}}}})));export{_ as u};

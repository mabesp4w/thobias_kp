import{e as h,f as v,g as d,h as i}from"./app-CukFzwfd.js";const p=h(v(n=>({dtReviews:[],setReviews:async({page:a=1,limit:e=10,search:t,sortby:r,order:s})=>{var o;try{const u=await d.getState().setToken(),c=await i({method:"get",url:"/reviews",headers:{Authorization:`Bearer ${u}`},params:{limit:e,page:a,search:t,sortby:r,order:s}});return n(w=>({...w,dtReviews:c.data})),console.log({response:c}),{status:"berhasil",data:c.data}}catch(u){return{status:"error",error:(o=u.response)==null?void 0:o.data}}},setShowReviews:async a=>{var e;try{const t=await d.getState().setToken(),r=await i({method:"get",url:`/reviews/${a}`,headers:{Authorization:`Bearer ${t}`}});return n(s=>({...s,dtReviews:r.data.data})),{status:"berhasil",data:r.data}}catch(t){return{status:"error",error:(e=t.response)==null?void 0:e.data}}},addData:async a=>{try{const e=await d.getState().setToken(),t=await i({method:"post",url:"/reviews",headers:{Authorization:`Bearer ${e}`},data:a});return console.log({res:t}),n(r=>({dtReviews:[t.data.data,...r.dtReviews]})),{status:t.data.type,data:t.data}}catch(e){return{status:"error",data:e.response}}},removeData:async a=>{try{const e=await d.getState().setToken(),t=await i({method:"delete",url:`/reviews/${a}`,headers:{Authorization:`Bearer ${e}`}});return n(r=>({dtReviews:r.dtReviews.filter(s=>s.id!==a)})),{status:"berhasil hapus",data:t.data}}catch(e){return{status:"error",data:e.response.data}}},updateData:async(a,e)=>{try{const t=await d.getState().setToken(),r=await i({method:"PUT",url:`/reviews/${a}`,headers:{Authorization:`Bearer ${t}`},data:e});return n(s=>({dtReviews:s.dtReviews.map(o=>o.id===a?{...o,...r.data.data}:o)})),{status:"berhasil update",data:r.data}}catch(t){return{status:"error",data:t.response.data}}}})));export{p as u};

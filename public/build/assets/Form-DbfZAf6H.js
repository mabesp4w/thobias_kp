import{aF as b,r as m,u as F,j as o,D,I as _,b as y,L as I,c as L,d as w}from"./app-CSgTi1V-.js";import{u as B}from"./ProductImages-CSQXgJtY.js";import M from"./BodyForm-Dz5Z9C1z.js";import"./index-BxCqxJQM.js";const N=({openDialog:a,setOpenDialog:r,dtEdit:t,halaman:u})=>{const{product_id:d}=b().props,{addData:p,updateData:l}=B(),[f,x]=m.useState(!1),{register:e,handleSubmit:i,setValue:s,control:h,formState:{errors:j},watch:g}=F(),n=()=>{s("id",""),s("product_id",d),s("position",2),s("product_img","")};m.useEffect(()=>{t?(s("id",t.id),s("product_id",t.product_id),s("position",t.position)):n()},[r,t]);const c=async S=>{w({row:S,dtEdit:t,setIsLoading:x,setShowModal:r,addData:p,updateData:l,resetForm:n})};return o.jsx(D,{openDialog:a,setOpenDialog:r,title:`Form ${u}`,children:o.jsxs("form",{onSubmit:i(c),children:[o.jsx(_,{name:"id",register:e,type:"hidden"}),o.jsx("div",{className:"grid grid-cols-8 gap-2 mb-4",children:o.jsx(M,{register:e,errors:j,dtEdit:t,control:h,watch:g,setValue:s,showModal:a})}),o.jsx(y,{children:f?o.jsx(I,{}):o.jsx(L,{onClick:i(c),type:"submit",children:"Simpan"})})]})})};export{N as default};

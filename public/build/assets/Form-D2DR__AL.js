import{r as c,u as S,j as s,D as b,I as y,b as D,L as F,c as L,d as w}from"./app-DGFkG_vZ.js";import{u as I}from"./Categories-DMSZDkxP.js";import _ from"./BodyForm-e44FsPQ4.js";const k=({openDialog:r,setOpenDialog:o,dtEdit:a,halaman:u})=>{const{addData:l,updateData:d}=I(),[f,x]=c.useState(!1),{register:t,handleSubmit:n,setValue:e,control:g,formState:{errors:h},watch:j}=S(),i=()=>{e("id",""),e("category_nm","")};c.useEffect(()=>{a?(e("id",a.id),e("category_nm",a.category_nm)):i()},[o,a]);const m=async p=>{w({row:p,dtEdit:a,setIsLoading:x,setShowModal:o,addData:l,updateData:d,resetForm:i})};return s.jsx(b,{openDialog:r,setOpenDialog:o,title:`Form ${u}`,children:s.jsxs("form",{onSubmit:n(m),children:[s.jsx(y,{name:"id",register:t,type:"hidden"}),s.jsx("div",{className:"grid grid-cols-8 gap-2 mb-4",children:s.jsx(_,{register:t,errors:h,dtEdit:a,control:g,watch:j,setValue:e,showModal:r})}),s.jsx(D,{children:f?s.jsx(F,{}):s.jsx(L,{onClick:n(m),type:"submit",children:"Simpan"})})]})})};export{k as default};

import{r as m,u as g,j as r,D as _,I as S,b as y,L as D,c as F,d as k}from"./app-CukFzwfd.js";import{u as L}from"./Products-Bdd6O7Sw.js";import w from"./BodyForm-B41zwecP.js";import"./InputRupiah-B5c6Dt1O.js";import"./SubCategories-pxuD3nC-.js";const N=({openDialog:a,setOpenDialog:e,dtEdit:o,halaman:u})=>{const{addData:p,updateData:l}=L(),[d,f]=m.useState(!1),{register:t,handleSubmit:c,setValue:s,control:x,formState:{errors:b},watch:h}=g(),i=()=>{s("id",""),s("sub_category_id",""),s("product_nm",""),s("price",0),s("stock",0),s("description","")};m.useEffect(()=>{o?(s("id",o.id),s("sub_category_id",o.sub_category_id),s("product_nm",o.product_nm),s("price",o.price),s("stock",o.stock),s("description",o.description)):i()},[e,o]);const n=async j=>{k({row:j,dtEdit:o,setIsLoading:f,setShowModal:e,addData:p,updateData:l,resetForm:i})};return r.jsx(_,{openDialog:a,setOpenDialog:e,title:`Form ${u}`,children:r.jsxs("form",{onSubmit:c(n),children:[r.jsx(S,{name:"id",register:t,type:"hidden"}),r.jsx("div",{className:"grid grid-cols-8 gap-2 mb-4",children:r.jsx(w,{register:t,errors:b,dtEdit:o,control:x,watch:h,setValue:s,showModal:a})}),r.jsx(y,{children:d?r.jsx(D,{}):r.jsx(F,{onClick:c(n),type:"submit",children:"Simpan"})})]})})};export{N as default};

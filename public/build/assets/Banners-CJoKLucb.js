import{e as p,f as g,g as d,h as u}from"./app-DTygMt2q.js";const B=p(g(o=>({dtBanners:{last_page:0,current_page:0,data:[]},setBanners:async({page:r=1,limit:t=10,search:e,sortby:a,order:n})=>{var s;try{const c=await d.getState().setToken(),h=await u({method:"get",url:"/banners",headers:{Authorization:`Bearer ${c}`},params:{limit:t,page:r,search:e,sortby:a,order:n}});return o(i=>({...i,dtBanners:h.data})),{status:"berhasil",data:h.data}}catch(c){return{status:"error",error:(s=c.response)==null?void 0:s.data}}},setShowBanners:async r=>{var t;try{const e=await d.getState().setToken(),a=await u({method:"get",url:`/banners/${r}`,headers:{Authorization:`Bearer ${e}`}});return o(n=>({...n,dtBanners:a.data.data})),{status:"berhasil",data:a.data}}catch(e){return{status:"error",error:(t=e.response)==null?void 0:t.data}}},addData:async r=>{try{const t=await d.getState().setToken(),e=await u({method:"post",url:"/banners",headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"},data:r});return o(a=>({dtBanners:{last_page:a.dtBanners.last_page,current_page:a.dtBanners.current_page,data:[e.data.data,...a.dtBanners.data]}})),{status:"berhasil tambah",data:e.data}}catch(t){return{status:"error",data:t.response.data}}},removeData:async r=>{try{const t=await d.getState().setToken(),e=await u({method:"delete",url:`/banners/${r}`,headers:{Authorization:`Bearer ${t}`}});return o(a=>({dtBanners:{last_page:a.dtBanners.last_page,current_page:a.dtBanners.current_page,data:a.dtBanners.data.filter(n=>n.id!==r)}})),{status:"berhasil hapus",data:e.data}}catch(t){return{status:"error",data:t.response.data}}},updateData:async(r,t)=>{try{const e=await d.getState().setToken(),a=await u({method:"POST",url:`/banners/${r}?_method=PUT`,headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"},data:t});return o(n=>({dtBanners:{last_page:n.dtBanners.last_page,current_page:n.dtBanners.current_page,data:n.dtBanners.data.map(s=>s.id===r?{...s,...a.data.data}:s)}})),{status:"berhasil update",data:a.data}}catch(e){return{status:"error",data:e.response.data}}}})));export{B as u};

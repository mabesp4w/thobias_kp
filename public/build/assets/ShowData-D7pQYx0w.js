import{r as t,j as s,L as O}from"./app-CnHTP8XK.js";import{_,D as v,g as F}from"./generateColumns-CiPvbplT.js";import{u as R}from"./Orders-DPKQ3V8v.js";import{t as E}from"./transformDataWithFilters-CxGA706_.js";import{updateAccessorKeys as k,columnsConfig as N}from"./columnsConfig-CozGLG3t.js";import P from"./Detail-CbdvIs5P.js";import"./index-BAbSGt1_.js";import"./Penilaian-CPYERjVv.js";import"./RatingStars-BUJjTbgv.js";import"./Reviews-DvTDnBGq.js";const H=({setDelete:f,setEdit:p})=>{const{setOrders:m,dtOrders:g}=R(),[a,A]=t.useState(1),[r,x]=t.useState(10),[h,D]=t.useState(!0),[j,u]=t.useState(!1),[w,S]=t.useState(null),o=new URLSearchParams(window.location.search),n=o.get("cari")||"",i=o.get("sortby")||"",l=o.get("order")||"",d=_.debounce(e=>{e()},500),b=t.useCallback(async()=>{x(10),await m({page:a,limit:r,search:n,sortby:i,order:l,status:"dibayar,selesai"}),D(!1)},[m,a,r,n,i,l]);t.useEffect(()=>(d(b),()=>{d.cancel()}),[n,i,l,a,r]);const c=["user_info.[0].nm_user","village.village_nm"],y=E(g.data,c),C=k(N,c),L=e=>{S(e),u(!0)};return s.jsx("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:h?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx(O,{})}):s.jsxs(s.Fragment,{children:[s.jsx(v,{data:y,columns:F(C,p,e=>f({id:e,isDelete:!1}),!0,!1),filters:c.map(e=>`${e.split(".").join("_")}_filter`),onRowClick:L}),s.jsx(P,{order:w||null,openDetail:j,setOpenDetail:u}),";"]})})};export{H as default};

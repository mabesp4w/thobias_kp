import{r as c,u as j,j as s,D as y,I as S,b as _,L as D,c as F,d as L}from"./app-CukFzwfd.js";import{u as w}from"./SubCategories-pxuD3nC-.js";import I from"./BodyForm-BGgbThwj.js";import"./Categories-DTKnW-WU.js";const v=({openDialog:r,setOpenDialog:o,dtEdit:a,halaman:u})=>{const{addData:l,updateData:d}=w(),[f,x]=c.useState(!1),{register:t,handleSubmit:i,setValue:e,control:g,formState:{errors:b},watch:p}=j(),n=()=>{e("id",""),e("sub_category_nm","")};c.useEffect(()=>{a?(e("id",a.id),e("category_id",a.category_id),e("sub_category_nm",a.sub_category_nm)):n()},[o,a]);const m=async h=>{L({row:h,dtEdit:a,setIsLoading:x,setShowModal:o,addData:l,updateData:d,resetForm:n})};return s.jsx(y,{openDialog:r,setOpenDialog:o,title:`Form ${u}`,children:s.jsxs("form",{onSubmit:i(m),children:[s.jsx(S,{name:"id",register:t,type:"hidden"}),s.jsx("div",{className:"grid grid-cols-8 gap-2 mb-4",children:s.jsx(I,{register:t,errors:b,dtEdit:a,control:g,watch:p,setValue:e,showModal:r})}),s.jsx(_,{children:f?s.jsx(D,{}):s.jsx(F,{onClick:i(m),type:"submit",children:"Simpan"})})]})})};export{v as default};

import{e as h,f as i,g as u,h as n}from"./app-CSgTi1V-.js";const I=h(i(o=>({dtProductImages:{last_page:0,current_page:0,data:[]},setProductImages:async({page:r=1,limit:a=10,search:t,sortby:e,order:s,product_id:d})=>{var g;try{const c=await u.getState().setToken(),m=await n({method:"get",url:"/productImages",headers:{Authorization:`Bearer ${c}`},params:{limit:a,page:r,search:t,sortby:e,order:s,product_id:d}});return o(p=>({...p,dtProductImages:m.data})),{status:"berhasil",data:m.data}}catch(c){return{status:"error",error:(g=c.response)==null?void 0:g.data}}},setShowProductImages:async r=>{var a;try{const t=await u.getState().setToken(),e=await n({method:"get",url:`/productImages/${r}`,headers:{Authorization:`Bearer ${t}`}});return o(s=>({...s,dtProductImages:e.data.data})),{status:"berhasil",data:e.data}}catch(t){return{status:"error",error:(a=t.response)==null?void 0:a.data}}},addData:async r=>{try{const a=await u.getState().setToken(),t=await n({method:"post",url:"/productImages",headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"},data:r});return console.log({res:t}),o(e=>({dtProductImages:{last_page:e.dtProductImages.last_page,current_page:e.dtProductImages.current_page,data:t.data.data}})),{status:"berhasil tambah",data:t.data}}catch(a){return{status:"error",data:a.response.data}}},removeData:async r=>{try{const a=await u.getState().setToken(),t=await n({method:"delete",url:`/productImages/${r}`,headers:{Authorization:`Bearer ${a}`}});return o(e=>({dtProductImages:{last_page:e.dtProductImages.last_page,current_page:e.dtProductImages.current_page,data:e.dtProductImages.data.filter(s=>s.id!==r)}})),{status:"berhasil hapus",data:t.data}}catch(a){return{status:"error",data:a.response.data}}},updateData:async(r,a)=>{try{const t=await u.getState().setToken(),e=await n({method:"POST",url:`/productImages/${r}?_method=PUT`,headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"},data:a});return o(s=>({dtProductImages:{last_page:s.dtProductImages.last_page,current_page:s.dtProductImages.current_page,data:s.dtProductImages.data.map(d=>d.id===r?{...d,...e.data.data}:d)}})),{status:"berhasil update",data:e.data}}catch(t){return{status:"error",data:t.response.data}}}})));export{I as u};

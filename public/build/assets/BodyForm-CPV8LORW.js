import{r as u,j as e,a as S,I}from"./app-DTygMt2q.js";import{R as T}from"./index-jStRHsil.js";const $=({label:t,register:c,required:n,name:r,errors:o,addClass:m,accept:x,setValue:b,fileEdit:g,initialValue:f,watch:w,size:d="md",labelCss:y="text-gray-700"})=>{const[N,R]=u.useState(),[j,h]=u.useState(f||""),F=w(r);u.useEffect(()=>{F||h("")},[F]);const _=s=>new Promise(()=>{var a;const l=d==="sm"?500:d==="md"?1e3:1600;if(s){const i=((a=s==null?void 0:s.type)==null?void 0:a.split("/"))||[];if(i[0]!=="image")return p(s);T.imageFileResizer(s,l,l,i[1],100,0,k=>{p(k)},"file")}else p(null)}),p=s=>{var a;if(s){const i=new FileReader;i.readAsDataURL(s),i.onloadend=()=>{h(i.result)}}const l=((a=s==null?void 0:s.type)==null?void 0:a.split("/"))||[];R(l[0]),b(r,s)};return e.jsxs("div",{className:m,children:[t&&e.jsxs(e.Fragment,{children:[e.jsx("label",{className:`text-sm font-medium tracking-wide ${y}`,children:t}),n&&e.jsx("span",{className:"ml-1 text-red-600",children:"*"}),!n&&e.jsx("span",{className:`text-sm font-medium tracking-wide ${y}`,children:"(Optional)"})]}),e.jsx("input",{className:"w-full text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",id:"fileInput",type:"file",accept:x,onChange:s=>{var a;const l=((a=s.target)==null?void 0:a.files[0])||null;_(l)}}),e.jsx("input",{type:"hidden",id:t,...c(r,{required:n})}),e.jsxs("div",{className:"flex gap-4 mt-2",children:[j&&N==="image"&&e.jsx("img",{className:"rounded-lg w-36",src:j,alt:""}),g&&r!=="file"&&r!=="file_materi"&&e.jsx("div",{children:e.jsx("img",{src:`${S}/${g}`,className:"rounded-lg w-24",alt:""})})]}),(o==null?void 0:o.type)==="required"&&e.jsxs("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kosong"]})]})},B=({register:t,errors:c,dtEdit:n,showModal:r,setValue:o,watch:m,control:x})=>e.jsxs(e.Fragment,{children:[e.jsx(I,{label:"Posisi",name:"position",register:t,required:!0,type:"number",min:1,errors:c.position,addClass:"col-span-8"}),e.jsx($,{label:"Gambar",name:"banner_img",register:t,addClass:"col-span-8",setValue:o,required:!(n!=null&&n.banner_img),errors:c.banner_img,fileEdit:n==null?void 0:n.banner_img,initialValue:(n==null?void 0:n.banner_img)||"",watch:m,accept:"image/*"})]});export{B as default};
